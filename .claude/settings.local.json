{
  "permissions": {
    "allow": [
      "Bash(break)",
      "Bash(fi)",
      "Bash(done)",
      "Bash(aws apprunner list-services:*)",
      "Bash(chmod:*)",
      "Bash(node -e:*)",
      "Bash(pulumi stack output:*)",
      "Bash(npx strapi --help:*)",
      "Bash(git checkout:*)",
      "Bash(pulumi up:*)",
      "Bash(aws lightsail create-container-service-deployment:*)",
      "Bash(aws lightsail get-container-services:*)",
      "Bash(aws lightsail get-container-log:*)",
      "Bash(curl:*)",
      "Bash(for:*)",
      "Bash(do echo \"Attempt $i:\")",
      "Bash(aws lightsail get-container-service-deployments:*)",
      "Bash(aws rds describe-db-instances:*)",
      "Bash(aws lightsail delete-container-service:*)",
      "Bash(BUILD_FRONTEND=false bash:*)",
      "Bash(DEPLOY_INFRA=false DEPLOY_FRONTEND=false bash:*)",
      "Bash(aws apprunner describe-service:*)",
      "Bash(git log:*)",
      "Bash(npm run build:*)",
      "Bash(aws s3 sync:*)",
      "Bash(aws cloudfront create-invalidation:*)",
      "Bash(aws logs tail:*)",
      "Bash(docker build:*)",
      "Bash(aws ecr get-login-password:*)",
      "Bash(docker login:*)",
      "Bash(docker tag:*)",
      "Bash(docker push:*)",
      "Bash(aws apprunner start-deployment:*)",
      "Bash(NUL)",
      "Bash(pulumi stack:*)",
      "Bash(git rev-parse:*)",
      "Bash(aws logs describe-log-groups:*)",
      "Bash(MSYS_NO_PATHCONV=1 aws logs:*)",
      "Bash(cd:*)",
      "Bash(npm install)",
      "Bash(pulumi config:*)",
      "Bash(aws ec2 describe-security-groups:*)",
      "Bash(aws ec2 authorize-security-group-ingress:*)",
      "Bash(aws rds modify-db-instance:*)",
      "Bash(node --version)",
      "Bash(npm --version:*)",
      "Bash(ssh-keygen:*)",
      "Bash(cat:*)",
      "Bash(netstat:*)",
      "Bash(findstr:*)",
      "Bash(tasklist:*)",
      "Bash(wmic process:*)",
      "Bash(docker ps:*)",
      "Bash(docker logs:*)",
      "Bash(docker exec:*)",
      "Bash(timeout 5 docker logs:*)",
      "Bash(docker-compose restart:*)",
      "Bash(timeout /t:*)",
      "Bash(nul)",
      "Bash(docker-compose down:*)",
      "Bash(docker-compose up:*)",
      "Bash(docker-compose config:*)",
      "Bash(timeout 25 docker logs:*)",
      "Bash(timeout 30 docker logs:*)",
      "Bash(bash:*)",
      "Bash(docker-compose logs:*)",
      "Bash(docker-compose ps:*)",
      "Bash(timeout 20 docker logs:*)",
      "Bash(git add:*)",
      "Bash(npm install:*)",
      "Bash(aws configure:*)",
      "Bash(AWS_PROFILE=default aws logs:*)",
      "Bash(test:*)",
      "Bash(aws s3api get-bucket-policy:*)",
      "Bash(aws s3api get-bucket-cors:*)",
      "Bash(aws sts get-caller-identity:*)",
      "Bash(aws apprunner describe-services:*)",
      "Bash(aws s3:*)",
      "Bash(aws logs describe-log-streams:*)",
      "Bash(aws logs get-log-events:*)",
      "Bash(docker run:*)",
      "Bash(echo:*)",
      "Bash(jq:*)",
      "Bash(AWS_PROFILE=default pulumi up:*)",
      "Bash(do echo \"Checking deployment status (attempt $i)...\")",
      "Bash(aws apprunner list-operations:*)",
      "Bash(pulumi refresh:*)",
      "Bash(pulumi cancel:*)",
      "Bash(aws ecr describe-images:*)",
      "Bash(wc:*)",
      "Bash(aws apprunner update-service:*)",
      "Bash(git commit -m \"$(cat <<''EOF''\nFix S3 upload timeout and CSP issues\n\nRoot cause: AppRunner was using VPC egress with private subnets that had\nno NAT gateway or S3 VPC endpoint, causing S3 uploads to timeout after 6.5 minutes.\n\nChanges:\n1. Removed VPC networkConfiguration from AppRunner service\n   - Allows direct internet access to S3\n   - RDS still accessible via public endpoint with security groups\n2. Hardcoded CloudFront URL in CSP (dx3z7id4a5izi.cloudfront.net)\n   - process.env is empty in AppRunner for some reason\n3. Increased body size limits to 256MB for safety\n4. Added comprehensive environment variable logging\n\nThis fixes both the upload timeout (502) and CSP blocking issues.\n\nðŸ¤– Generated with [Claude Code](https://claude.com/claude-code)\n\nCo-Authored-By: Claude <noreply@anthropic.com>\nEOF\n)\")",
      "Bash(aws ec2 revoke-security-group-ingress:*)",
      "Bash(aws ec2 describe-subnets:*)",
      "Bash(aws ec2 describe-nat-gateways:*)",
      "Bash(npm run dev:*)",
      "Bash(npm run develop:*)",
      "Bash(find:*)",
      "Bash(node -c:*)",
      "Bash(python -m json.tool:*)",
      "Bash(dir /s /b \"c:\\Users\\Khoa Pham\\Desktop\\Work\\dhf-gifts-and-designs\\strapi\\src\\api\\cart-reservation\")",
      "Bash(timeout 5 cmd:*)",
      "Bash(git commit:*)",
      "Bash(git push:*)",
      "Bash(aws iam get-user:*)",
      "Bash(aws acm request-certificate:*)",
      "Bash(aws acm:*)",
      "Bash(del .env.development .env.production)",
      "Bash(cp:*)",
      "Bash(xargs sed:*)",
      "Bash(timeout:*)",
      "Bash(exit 0)",
      "Bash(npm view:*)",
      "Bash(npx tsc --noEmit)",
      "Bash(dir:*)",
      "Bash(npx tsc:*)",
      "Bash(npm run strapi:*)",
      "Bash(aws cloudfront:*)",
      "Bash(/tmp/cf-config.json)",
      "Bash(pulumi destroy:*)",
      "Bash(c:/tmp/cf-current.json)",
      "Bash(python:*)",
      "Bash(aws s3api put-bucket-policy:*)",
      "Bash(AWS_PROFILE=default aws apprunner:*)",
      "Bash(c:/tmp/cf-current-full.json)",
      "Bash(AWS_PROFILE=default aws s3 sync:*)",
      "Bash($null)",
      "Bash(Select-Object FullName)",
      "Bash(aws ses verify-domain-identity:*)",
      "Bash(npm audit:*)",
      "Bash(aws ses list-identities:*)",
      "Bash(xargs ls:*)",
      "Bash(npm test:*)",
      "Bash(git -C \"c:\\Users\\Khoa Pham\\Desktop\\Work\\dhf-gifts-and-designs\" log --oneline -10)",
      "Bash(grep:*)",
      "Bash(rmdir:*)",
      "Bash(git -C \"d:\\\\Projects\\\\simplict\" log --oneline -20)",
      "Bash(npm ls:*)",
      "Bash(npm outdated:*)",
      "Bash(npm start)",
      "Bash(npm uninstall:*)"
    ],
    "deny": [],
    "ask": []
  }
}
